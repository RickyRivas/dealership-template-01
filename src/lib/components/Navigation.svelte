<script>
  import "$styles/nav.less"
  import { pages } from "$lib/config"
  import { page } from "$app/stores"

  let isActive = false

  function toggleNav() {
    isActive = !isActive
  }

  // add class to header when user scrolls 100px
  let y
</script>

<svelte:window bind:scrollY={y} />

<nav class:active={isActive} class={y >= 100 ? "scroll" : ""}>
  <div class="container contact-container">
    <div class="contacts">
      <a href="tel:9182880028" class="phone">
        <svg
          width="14"
          height="15"
          viewBox="0 0 14 15"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
          class="icon">
          <title>Phone icon</title>
          <path
            d="M11.96 8.16668C11.8133 8.16668 11.66 8.12001 11.5133 8.08668C11.2163 8.02123 10.9245 7.93434 10.64 7.82668C10.3307 7.71417 9.99077 7.72001 9.68555 7.84309C9.38032 7.96616 9.1314 8.19777 8.98667 8.49335L8.84001 8.79335C8.19067 8.43213 7.594 7.9835 7.06667 7.46001C6.54319 6.93269 6.09455 6.33601 5.73334 5.68668L6.01334 5.50001C6.30892 5.35529 6.54053 5.10637 6.6636 4.80114C6.78668 4.49592 6.79252 4.15596 6.68001 3.84668C6.57415 3.56163 6.4873 3.26988 6.42001 2.97335C6.38667 2.82668 6.36001 2.67335 6.34001 2.52001C6.25905 2.05043 6.01309 1.62518 5.64642 1.32084C5.27975 1.0165 4.81647 0.853086 4.34001 0.860014H2.34001C2.05269 0.857316 1.76817 0.916556 1.50581 1.0337C1.24345 1.15085 1.00941 1.32314 0.819626 1.53887C0.62984 1.75459 0.488763 2.00868 0.405998 2.28382C0.323234 2.55897 0.300726 2.84872 0.340006 3.13335C0.695165 5.92627 1.97069 8.52127 3.96511 10.5084C5.95952 12.4956 8.55915 13.7617 11.3533 14.1067H11.6067C12.0983 14.1074 12.5729 13.927 12.94 13.6C13.1509 13.4114 13.3194 13.1801 13.4343 12.9216C13.5492 12.663 13.608 12.383 13.6067 12.1V10.1C13.5985 9.63694 13.4299 9.19105 13.1296 8.83846C12.8293 8.48587 12.4159 8.24843 11.96 8.16668V8.16668ZM12.2933 12.1667C12.2932 12.2613 12.2729 12.3549 12.2339 12.4411C12.1948 12.5273 12.1378 12.6042 12.0667 12.6667C11.9924 12.7314 11.9053 12.7796 11.8111 12.8083C11.7169 12.8371 11.6177 12.8456 11.52 12.8333C9.02327 12.5132 6.70416 11.371 4.92848 9.58687C3.1528 7.80274 2.02161 5.47824 1.71334 2.98001C1.70273 2.88236 1.71203 2.78357 1.74067 2.68961C1.76932 2.59565 1.81672 2.50847 1.88001 2.43335C1.94248 2.36223 2.01938 2.30524 2.10559 2.26616C2.1918 2.22708 2.28535 2.2068 2.38001 2.20668H4.38001C4.53504 2.20323 4.68642 2.25393 4.8081 2.35006C4.92978 2.44619 5.01415 2.58173 5.04667 2.73335C5.07334 2.91557 5.10667 3.09557 5.14667 3.27335C5.22369 3.62478 5.32618 3.97013 5.45334 4.30668L4.52001 4.74001C4.4402 4.77663 4.36842 4.82864 4.30878 4.89308C4.24913 4.95751 4.20281 5.03309 4.17245 5.11548C4.1421 5.19786 4.12832 5.28543 4.1319 5.37316C4.13549 5.46089 4.15637 5.54704 4.19334 5.62668C5.15281 7.68185 6.80484 9.33388 8.86001 10.2933C9.02231 10.36 9.20437 10.36 9.36667 10.2933C9.44982 10.2636 9.52622 10.2176 9.59145 10.1581C9.65669 10.0986 9.70945 10.0268 9.74667 9.94668L10.16 9.01335C10.5047 9.1366 10.8564 9.23901 11.2133 9.32001C11.3911 9.36001 11.5711 9.39335 11.7533 9.42001C11.905 9.45254 12.0405 9.5369 12.1366 9.65858C12.2328 9.78027 12.2835 9.93165 12.28 10.0867L12.2933 12.1667Z"
            fill="#212121" />
        </svg>
        Call us: (918) 288-0028</a>
      <a href="/contact" class="hours">
        <svg
          width="16"
          height="17"
          viewBox="0 0 16 17"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="icon">
          <path
            d="M10.8505 9.91285L8.61962 8.23973V4.83154C8.61962 4.48885 8.34262 4.21185 7.99994 4.21185C7.65725 4.21185 7.38025 4.48885 7.38025 4.83154V8.5496C7.38025 8.74479 7.47197 8.92885 7.62812 9.04535L10.1068 10.9044C10.2183 10.988 10.3485 11.0283 10.478 11.0283C10.667 11.0283 10.8529 10.9434 10.9744 10.7798C11.1802 10.5065 11.1244 10.118 10.8505 9.91285Z"
            fill="#212121" />
          <path
            d="M8 0.5C3.58853 0.5 0 4.08853 0 8.5C0 12.9115 3.58853 16.5 8 16.5C12.4115 16.5 16 12.9115 16 8.5C16 4.08853 12.4115 0.5 8 0.5ZM8 15.2607C4.27266 15.2607 1.23934 12.2273 1.23934 8.5C1.23934 4.77266 4.27266 1.73934 8 1.73934C11.728 1.73934 14.7607 4.77266 14.7607 8.5C14.7607 12.2273 11.7273 15.2607 8 15.2607Z"
            fill="#212121" />
        </svg>

        Opening hours: Mon - Sat: 8:00am To 9:00pm</a>
    </div>
    <div class="socials">
      <a href="/">
        <svg
          width="10"
          height="19"
          viewBox="0 0 10 19"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="icon">
          <path
            d="M9.34475 10.6068L9.86301 7.19418H6.621V4.98058C6.621 4.04672 7.07306 3.13592 8.52511 3.13592H10V0.230583C10 0.230583 8.6621 0 7.38356 0C4.71233 0 2.96804 1.63483 2.96804 4.5932V7.19418H0V10.6068H2.96804V18.857C3.56393 18.9516 4.17352 19 4.79452 19C5.41552 19 6.02511 18.9516 6.621 18.857V10.6068H9.34475Z"
            fill="#212121" />
        </svg>
      </a>
      <a href="/">
        <svg
          width="14"
          height="15"
          viewBox="0 0 14 15"
          fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M13.9644 4.11684C13.9316 3.37282 13.8113 2.86131 13.6389 2.41809C13.4611 1.94761 13.1876 1.5264 12.8292 1.17624C12.4791 0.820632 12.0551 0.54431 11.59 0.369284C11.1442 0.19693 10.6354 0.0766137 9.89139 0.0438098C9.14182 0.0082277 8.90386 0 7.00273 0C5.10159 0 4.86363 0.0082277 4.11684 0.0410316C3.37282 0.0738355 2.86131 0.194259 2.41819 0.366506C1.94761 0.54431 1.5264 0.817854 1.17624 1.17624C0.820631 1.5264 0.544416 1.95039 0.369283 2.41541C0.196929 2.86131 0.0766127 3.37004 0.0438088 4.11406C0.0082267 4.86363 0 5.10159 0 7.00273C0 8.90386 0.0082267 9.14182 0.0410306 9.88861C0.0738345 10.6326 0.194258 11.1441 0.366612 11.5874C0.544416 12.0578 0.820631 12.4791 1.17624 12.8292C1.5264 13.1848 1.95039 13.4611 2.41541 13.6362C2.86131 13.8085 3.37004 13.9288 4.11416 13.9616C4.86085 13.9946 5.09892 14.0027 7.00005 14.0027C8.90118 14.0027 9.13915 13.9946 9.88594 13.9616C10.63 13.9288 11.1415 13.8085 11.5846 13.6362C12.5256 13.2723 13.2697 12.5283 13.6335 11.5874C13.8057 11.1415 13.9262 10.6326 13.959 9.88861C13.9918 9.14182 14 8.90386 14 7.00273C14 5.10159 13.9972 4.86363 13.9644 4.11684ZM12.7034 9.83391C12.6733 10.5178 12.5584 10.887 12.4627 11.1332C12.2274 11.7433 11.7433 12.2274 11.1332 12.4627C10.887 12.5584 10.5151 12.6733 9.83391 12.7033C9.09534 12.7362 8.87383 12.7444 7.0055 12.7444C5.13718 12.7444 4.91289 12.7362 4.17699 12.7033C3.49313 12.6733 3.12385 12.5584 2.87766 12.4627C2.57409 12.3505 2.29777 12.1727 2.07348 11.9402C1.84097 11.7131 1.66317 11.4396 1.55097 11.136C1.45523 10.8898 1.34036 10.5178 1.31034 9.83668C1.27743 9.09811 1.26931 8.8765 1.26931 7.00817C1.26931 5.13985 1.27743 4.91556 1.31034 4.17977C1.34036 3.49591 1.45523 3.12663 1.55097 2.88044C1.66317 2.57676 1.84097 2.30055 2.07626 2.07616C2.30322 1.84364 2.57676 1.66584 2.88044 1.55375C3.12663 1.45801 3.49869 1.34314 4.17977 1.31301C4.91834 1.28021 5.13995 1.27198 7.00817 1.27198C8.87928 1.27198 9.10079 1.28021 9.83668 1.31301C10.5205 1.34314 10.8898 1.45801 11.136 1.55375C11.4396 1.66584 11.7159 1.84364 11.9402 2.07616C12.1727 2.30322 12.3505 2.57676 12.4627 2.88044C12.5584 3.12663 12.6733 3.49858 12.7034 4.17977C12.7362 4.91834 12.7445 5.13985 12.7445 7.00817C12.7445 8.8765 12.7362 9.09534 12.7034 9.83391ZM7.00273 3.40562C5.01686 3.40562 3.40562 5.01675 3.40562 7.00273C3.40562 8.9887 5.01686 10.5998 7.00273 10.5998C8.9887 10.5998 10.5998 8.9887 10.5998 7.00273C10.5998 5.01675 8.9887 3.40562 7.00273 3.40562ZM7.00273 9.33608C5.7144 9.33608 4.66937 8.29116 4.66937 7.00273C4.66937 5.71429 5.7144 4.66937 7.00273 4.66937C8.29116 4.66937 9.33608 5.71429 9.33608 7.00273C9.33608 8.29116 8.29116 9.33608 7.00273 9.33608ZM10.7421 4.10316C11.2059 4.10316 11.5819 3.72714 11.5819 3.2634C11.5819 2.79955 11.2059 2.42364 10.7421 2.42364C10.2783 2.42364 9.90229 2.79955 9.90229 3.2634C9.90229 3.72714 10.2783 4.10316 10.7421 4.10316Z"
            fill="#212121" />
        </svg>
      </a>
    </div>
  </div>

  <div class="container">
    <!-- Logo -->
    <a href="/" class="logo">
      <img
        class=""
        src="/logo.svg"
        alt="Logo"
        width="200"
        height="61"
        loading="lazy"
        decoding="async"
        fetchpriority="low" />
    </a>

    <!-- Nav links -->
    <ul class="nav-links" class:active={isActive}>
      {#each pages as { name, path }}
        <li class="nav-link">
          <a class:active={$page.url.pathname === path} href={path} on:click={toggleNav}>{name}</a>
        </li>
      {/each}
      <li class="">
        <a href="/contact" class="btn" on:click={toggleNav}>Learn More</a>
      </li>
    </ul>

    <!-- Toggle -->
    <button class="toggle" aria-label="Toggle" class:active={isActive} on:click={toggleNav}>
      <span />
      <span />
      <span />
    </button>
  </div>
</nav>
